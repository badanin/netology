# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1

*Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.*
*Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:*

*- Электронные чеки в json виде*

**MongoDB** - структура хранения данных и манипуляции с ними имеет родственные связи с json-форматом.

*- Склады и автомобильные дороги для логистической компании*

**Графовые БД** обеспечат наилучшую реализацию логистики маршрутов.

*- Генеалогические деревья*

**Иерархические БД** обеспечиюват схожую структуру.

*- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации*

**Redis** позволяет хранить и обрабатывать подобного рода данные, и есть возможность указать время жизни их в памяти.

*- Отношения клиент-покупка для интернет-магазина*

Классически **SQL БД** в данном случае будут оптимальны.

*Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.*

## Задача 2

*Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):*

*- Данные записываются на все узлы с задержкой до часа (асинхронная запись)*

**AP** - обеспечивает доступность и устройчивость, каждый из узлов способен ответить на запрос но при этом не обеспечивается их согласованность из-за асинхронности записи. 

**PA/EL** - предположительно при разделении система будет обеспечивать высокую скорость ответа.

*- При сетевых сбоях, система может разделиться на 2 раздельных кластера*

**AP** - разделение системы на независимые работоспособные узлы, при обрыве связи обеспечивают доступность и устойчивость к распределению.

**PA/EL** - система будет стремиться к высокой скорости ответа.

*- Система может не прислать корректный ответ или сбросить соединение*

**AP** или **AC** - если системы не присылает ответ или сбрасывает соединение, это означается выполнение условия согласованности (AC). Однако если она присылает в качестве ответа данные, некорректные данные, то система является несогласованной (AP).

**PA/EL** или **PA/EC** - при наличии сетевого разделения системы ставка делается на доступность, а при отсутствии распределения – на консистентность или скорость ответа.

*А согласно PACELC-теореме, как бы вы классифицировали данные реализации?*

## Задача 3

*Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?*

Нет, не могут. В одном случае главное скорость ответа и доступность, в другом достоверность данных.

## Задача 4

*Вам дали задачу написать системное решение, основой которого бы послужили:*

*- фиксация некоторых значений с временем жизни*

*- реакция на истечение таймаута*

*Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?*

Для данной задачи лучше всего подойдет **Redis**

> Модель pub / sub позволяет асинхронно транслировать сообщения по нескольким разделам приложений.  
> Основной компонент, обеспечивающий эту функциональность, называется темой. Издатель отправит сообщения в тему, а тема мгновенно отправит сообщение всем подписчикам. Это то, что отличает модель Pub / Sub от традиционных брокеров сообщений, где очередь сообщений будет пакетировать отдельные сообщения, пока пользователь или служба не запросит эти сообщения и не получит их.  
> Pub / sub необходимо правильно настроить и поддерживать. Там, где масштабируемость и независимый характер не являются жизненно важными факторами для вашего приложения, внедрение Pub / Sub будет пустой тратой ресурсов и приведет к ненужной сложности для небольших систем.  

[Что такое Pub / Sub?](https://bestprogrammer.ru/izuchenie/chto-takoe-pub-sub-obyasnenie-obmena-soobshheniyami-publikatsii-podpiski)

